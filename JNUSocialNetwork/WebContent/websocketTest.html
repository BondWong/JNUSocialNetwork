<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>WebSocket Test</title>
</head>
<body>
	<script>
	var d = new Date();
	var id = d.getMilliseconds();
	var ws;
	var ws1;
		function connect1() {
			alert("connect to websocket");
			ws = new WebSocket("ws://localhost:8080/JNUSocialNetwork/endpoint/connect/2011052407");
			
			ws.onopen = function(e) {
				alert("onopen");
			}
			
			ws.onclose = function(e) {
				alert("onclose");
			}
			
			ws.onerror = function(e) {
				alert("onerror");
			}
			
			ws.onmessage = function(e) {
				alert(e.data);
			}
		}
		
		function connect2() {
			alert("connect to websocket");
			ws1 = new WebSocket("ws://localhost:8080/JNUSocialNetwork/endpoint/connect/2011052406");
			
			ws1.onopen = function(e) {
				alert("onopen");
			}
			
			ws1.onclose = function(e) {
				alert("onclose");
			}
			
			ws1.onerror = function(e) {
				alert("onerror");
			}
			
			ws1.onmessage = function(e) {
				alert(e.data);
			}
		}
		
		function sendMessage1() {
			alert("sendMessage1");
			ws.send(JSON.stringify({"action":"CHAT","fromID":"2011052407","toID":"2011052406","status":"ARRIVED",
				"ID" : id, "chatRoomID":"6768546055","attributes":{"ID":"1901103390","commentID":"2011052407"}}));
		}
		
		function sendMessage2() {
			alert("sendMessage2");
			ws1.send(JSON.stringify(
					{"action":"REMIND","toID":"2011052407","SSEType":"LIKECOMMENT",
						"data":{"ID":"1901103390","commentID":"2011052407"}}));
		}
		
		function sendMessage3() {
			alert("sendMessage3");
			ws.send(JSON.stringify({"action":"UPDATEMESSAGESTATUS","fromID":"2011052407","ID":id,"status":"READ"}));
		}
		
		function disconnect1() {
			alert("disconnect");
			ws.close();
		}
		
		function disconnect2() {
			alert("disconnect");
			ws1.close();
		}
		
	</script>
	<button onclick="connect1()">Connect1</button>
	<button onclick="connect2()">Connect2</button>
	<button onclick="disconnect1()">Disconnect1</button>
	<button onclick="disconnect2()">Disconnect2</button>
	<button onclick="sendMessage1()">SendMessage1</button>
	<button onclick="sendMessage2()">SendMessage2</button>
	<button onclick="sendMessage3()">SendMessage3</button>
</body>
</html>