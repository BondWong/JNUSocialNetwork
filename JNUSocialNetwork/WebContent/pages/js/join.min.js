!function(t){"use strict";function a(){t.getJSON(e).done(function(e){for(var n in e)t.getJSON(i+e[n]).done(c)})}function o(){t("#activity-list").delegate(".join-btn","click",function(i){if(""===window.USERID||null===window.USERID)return void t("#remindModal").modal("show");var e=[n,window.USERID,"/",t(i.currentTarget).data("postid")].join("");t.get(e).done(function(i,e){console.log("post success "+e),r(t("#successAlert"))}).fail(function(i,e,n){console.log("post error! "+e+" "+n),r(t("#errorAlert"))})})}function c(i){var e={activityAddr:i.activityAddr,activityMore:i.activityMore,activityName:i.activityName,activityTime:i.activityTime,background:JSON.parse(i.attributes.background).src,ID:i.ID};t("#activity-list").append(_.template(t("#li-template").html())(e))}function r(t){t.fadeIn(500),setTimeout(function(){t.fadeOut(500)},4e3)}var i="/app/post/fetchByID/",e="/pages/assets/postID.json",n="/app/post/joinActivity/";t(document).ready(function(){a(),o()})}(jQuery);